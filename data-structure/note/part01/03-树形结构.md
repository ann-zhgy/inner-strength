# 树形结构——概念

## 一、什么是树形结构

* 树形结构是相对于线性结构来说的。线性结构是长长的一条，树形结构就像一颗反过来的树

  ![tree](https://i.loli.net/2020/09/17/a5THQGSYPUDIZcK.png)

* 生活中的树形结构：

  1. 职能树

     ![职能树](https://i.loli.net/2020/10/08/QM6Spdks7LuoDxG.jpg)

  2. `IDE`(集成开发工具)的目录结构

     ![目录结构](https://i.loli.net/2020/10/09/g5hUvuO7SlWsbqF.jpg)
  
     
  
  * 使用树形结构可以大大提高效率

## 二、树的基本概念

1. 节点、根节点、父节点、子节点、兄弟节点
2. 没有任何节点的树称为**空树**
3. 一棵树可以只有1个节点，也就是根节点
4. 子树、左子树、右子树
5. 节点的度(degree)：子树（子节点）的个数
6. 树的度：所有节点都中的最大值
7. 叶子节点(leaf)：度为0的节点
8. 非叶子节点：度不为0的节点
9. 层数(level)：根节点在第1层，根节点的子节点在第2层，以此类推……（也有的从0层开始计算）
10. 节点的深度(depth)：从根节点到当前节点的唯一路径的节点总数
11. 节点的高度(height)：从当前节点到最远叶子节点的路径上的节点总数
12. 树的深度：所有节点深度中的最大值
13. 树的高度：所有节点高度中的最大值
14. 树的深度等于树的高度

## 三、有序树、无序树、森林

### 1. 有序树

* 树中任意节点的子节点之间有顺序关系

### 2. 无序树

* 树中任意节点的子节点之间没有顺序关系
* 也称为“自由树”

### 3. 森林

* 由 m（m >= 0）棵互不相交的树组成的集合

## 四、二叉树

### 1. 二叉树的特点

1. 每个节点的度最大为 2：最多拥有2棵子树
2. 左子树和右子树是有顺序的
3. 即使某节点只有一棵子树，也要区分左右子树

* **二叉树是有序树**

### 2. 二叉树的性质

1. 非空二叉树的第 i 层，最多有 2<sup>i-1</sup> 个节点（i >= 1）

2. 在高度为 h 的二叉树上最多有 2<sup>h</sup> - 1 个节点（h >= 1）

3. 对于任何一棵非空二叉树，如果叶子节点个数为 n0，度为2的节点个数为 n2，则有：n0 = n2 + 1

   * 证明：

   ![tree](https://i.loli.net/2020/10/09/qJkhmbiontfMIwu.jpg)

   ![tree](https://i.loli.net/2020/10/09/JjynWX6qhH5MxtD.jpg)

   1. 如果度为1的节点个数为 n1，那么二叉树的节点总数 n = n0 + n1 + n2
   2. 二叉树的边 T = n1 + n2 * 2 = n - 1 = n0 + n1 + n2 -1
   3. 所以：n0 = n2 + 1

### 3. 真二叉树

>  所有节点的度都要么为 0，要么为 2

1. 真二叉树

   ![real tree](https://i.loli.net/2020/10/09/5vtQ3LSig21BU7K.jpg)

2. 非 真二叉树

   ![not real tree](https://i.loli.net/2020/10/09/UR8htEdV6FNeTyP.jpg)

### 4. 满二叉树

> 最后一层节点度都为0，其他节点的度都为2

![full binary tree](https://i.loli.net/2020/10/09/JvpIkZP3ofsnqtc.jpg)

* 在同样高度的二叉树中，满二叉树的叶子节点数量最多、总节点数量最多
* 满二叉树一定是真二叉树，真二叉树不一定是满二叉树
* 计算：假设满二叉树高度为 h（h >= 1），那么
  1. 第 i 层节点数量：2<sup>i-1</sup>
  2. 叶子节点数量：2<sup>h-1</sup>
  3. 总节点数量为 n，那么树的高度：h = log<sub>2</sub>(n + 1)

### 5. 完全二叉树

> 对节点从上至下、从左至右开始编号，其所有编号都能与相同高度的满二叉树中的编号对应

* 完全二叉树

  ![complete binary tree](https://i.loli.net/2020/10/09/PeEUVgZW5fqajF6.jpg)

* 满二叉树

  ![full binary tree](https://i.loli.net/2020/10/09/d3OT89N7Qzj4J5P.jpg)

* 性质：

  1. 叶子节点只会出现在最后2层，最后1层的叶子节点都靠左对齐

  2. 完全二叉树从<font style="color: orange;">根节点</font>至<font style="color: orange;">倒数第二层</font>是一颗满二叉树

  3. 满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树

  4. 度为1的节点只有左子树

  5. 度为1的节点要么是1个要么是0个

  6. 同样节点数量的二叉树，完全二叉树的高度最小

  7. 假设完全二叉树的高度为 h（h >= 1），那么

     * 至少有 2<sup>h-1</sup>个节点（满二叉树下一层最左边多出一个节点）

     * 最多有 2<sup>h</sup>-1 个节点（满二叉树）

     * 总结点数量 n：

       * 2<sup>h-1</sup> <= n < 2<sup>h</sup>
       * h-1 <= log<sub>2</sub>n < h
       * h = floor(log<sub>2</sub>n) + 1

       > floor 是向下取整，ceiling 是向上取整

  8. 一棵有 n 个节点的完全二叉树（n > 0），从上到下、从左到右对节点从0开始编号，对任意第 i 个节点

     ![complete binary tree](https://i.loli.net/2020/10/09/PeEUVgZW5fqajF6.jpg)

     * 如果 i = 0，它是根节点
     * 如果 i > 0，它的父结点编号为 floor((i - 1) / 2)
     * 如果 2i + 1 <= n - 1，它的左子节点编号为 2i + 1
     * 如果 2i + 1 > n - 1，它没有左子节点
     * 如果 2i + 2 <= n - 1，它的右子节点编号为 2i + 2
     * 如果 2i + 2 > n - 1，它没有右子节点

* **注意：**下图**不是**完全二叉树

  ![no complete binary tree](https://i.loli.net/2020/10/09/TIDJjEc9p1Se6qZ.jpg)

### 6. 二叉搜索树

> 所谓二叉搜索树就是有序的二叉树。对于任意节点，必定存在 左子节点 &lt; 当前节点 &lt; 右子节点

